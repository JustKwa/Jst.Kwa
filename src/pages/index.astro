---
import Layout from '@/layouts/Layout.astro';
import Introduction from '@/components/Introduction.astro';
import Skills, { type Category }  from '@/components/skills/Skills.astro';
import SectionContainer from '@/components/SectionContainer/SectionContainer.astro';
import ScrollToTop from '@/components/ScrollToTop.tsx';

const skillsData: Category[] = [
  {
    title: "Game Engines & Frameworks",
    items: ["Unity", "Godot", "Cocos Creator", "Phaser3", "PixiJS", "Raylib", "Love2D"],
  },
  {
    title: 'Programming Languages',
    items: [
      'TypeScript',
      'JavaScript',
      'Python',
      'C/C++',
      'C#',
      'Java',
      'GDScript',
      'Lua',
      'Bash'
    ]},
  {
    title: "Game Development Software & Tools", // Renamed for clarity
    items: [
      "Git", 
      "Visual Studio/+Code", 
      "Aseprite", 
      "Photoshop", 
      "Blender", 
      "Audacity", 
      "Tiled",
      "SpriteSheetPacker",
      "Figma"
    ],
  },
];
---
<Layout title="Just Kwa â€“ Portfolio">
  <ScrollToTop client:load/>
  <img
    src="/scroll-down.webp"
    alt="Animated decoration"
    data-fade-inverse
    class="fixed bottom-0 w-full pointer-events-none z-20 scroll-down"
    aria-hidden="true"
  />
  <div class="w-full md:max-w-4xl mx-auto">
    <div id="parent-container" class="container z-10">
      <div data-fade class="fake-container absolute inset-0 w-full h-full bg-white" style="opacity: 0;"></div>
      <!-- Hero / Introduction -->
      <SectionContainer id="introduction" >
          <Introduction name="Khoa Nguyen" />
      </SectionContainer>

      <!-- Skills Section -->
      <SectionContainer id="skills" className="" header="Skills & Expertise">
        <Skills categories={skillsData} />
      </SectionContainer>

      <!-- Projects Section -->
      <SectionContainer id="projects" className="" header="Projects">
        <div class="flex flex-col gap-4 w-full">
          {[
          { title: 'Project 1', href: '/projects/project1', desc: 'Lorem ipsum dolor sit amet.' },
          { title: 'Project 2', href: '/projects/project2', desc: 'Consectetur adipiscing elit.' },
          { title: 'Project 3', href: '/projects/project3', desc: 'Sed do eiusmod tempor.' }
          ].map((p) => (
          <div class="p-6 retro-dialogue">
            <h3 class="font-semibold mb-4">{p.title}</h3>
            <p class="leading-relaxed mb-4">{p.desc}</p>
            <a href='#' class="retro-border p-2 ml-auto block w-fit hover:scale-110">
              Explore {'>>'} 
            </a>
          </div>
          ))}
        </div>
      </SectionContainer>

      <!-- Footer -->
      <footer class="p-8 retro-border">
        <div class="flex flex-col md:flex-row justify-between items-center gap-8">
          <p class="text-gray-600">&copy; {new Date().getFullYear()} Just Kwa. All rights reserved.</p>
          <div class="flex space-x-6">
            {[
              ['fas fa-envelope','mailto:khoadtnwin@gmail.com'],
              ['fab fa-linkedin','https://www.linkedin.com/in/khoa-nguyen-0455b6265/'],
              ['fab fa-twitter','https://x.com/JstKwa'],
              ['fab fa-github','https://github.com/JustKwa'],
              ['fab fa-itch-io','https://jstkwa.itch.io/']
            ].map(([icon,href]) => (
            <a href={href}>
              <i class={`${icon} fa-2x hover:scale-110 social-links`}></i>
            </a>
            ))}
          </div>
        </div>
      </footer>
    </div>
  </div>
</Layout>

<style>
.container {
   @media (min-width: 768px) {
     position: relative;
     top: calc(50vh - 22rem /2);
   }
 }
.fake-container {
  z-index: -1;
}
.scroll-down {
  position: fixed;
  left: 50%;
  bottom: 0;
  z-index: 20;
  pointer-events: none;
  transform: translateX(-50%);
  max-width: 92px;
  bottom: 10px;
  width: 100%;
  height: auto;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}
.social-links{
  color: var(--retro-text);
}
.social-links:hover  {
  color: var(--retro-text-muted);
}
</style>

